<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.22.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.22.0/mapbox-gl.css' rel='stylesheet' />
    <link href="https://fonts.googleapis.com/css?family=Coiny|Roboto|Oswald" rel="stylesheet">
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; height:100%;}
    </style>
</head>
    
<aside id='sculpt-names' class='names-list'>
     <ul></ul>
</aside>
    
<body>
    <style>
        .head {
            width: 200px;
        }
        .marker {
            display: block;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            padding: 0;
        }
        .names-list {
/*            background: rgba(152, 244, 252, 0.65);*/
            margin-left: 75%;
            margin-top: 4%;
            z-index: 3;
            position: absolute;
            max-height: 405px;
            overflow-y: scroll;
            border-style: solid;
            border-width: 0px;
            border-radius: 0px;
            font-family: 'Oswald'; 
            color: aqua;
            list-style-type: none;
            
        }
        .names-list li {
/*            border: 10px outset rgba(0, 0, 0, 0.96);*/
            margin: 2px;
            padding: 2px 5px 2px 20px;
            border-radius: 3px;
            background: rgba(58, 96, 123, 0.74);
            color: #48aae8;
            font-size: small;
        }
        
        .title {
            border-style: none;
            font-family: 'Coiny', sans-serif;
            font-size: 30px;
            text-shadow: 2px 1px #044371;
            z-index: 4;
            color: #8bc5ff;
            position: relative;
            margin-right: 60%;
            margin-top: 0px;
            padding-top: 10px;
            padding-bottom: 10px;
            padding-left: 20px;
        }
        
        .venue-buttons {
            border: none;
            z-index: 3;
            position: relative;
            margin-top: 35px;
            margin-right: 1100px;
        }
        .venue-buttons li {
            padding-left: 0px;
            margin: 1px;
            height: 35px;
            list-style-type: none;
        }    
        img.venue-logo {
            width: 25px;
            height 25px;
            border-radius: 30%;
            
        }
        .wa-logo {
            height: 75%;
            width: 75%;
        }
    </style>

    <div id='title' class='title'><a href='#logo'><img class='wa-logo' src='http://washedashore.org/wp2/wp-content/uploads/logo-main.png'></a></div>    
<!--
<aside id='sculpt-names' class='names-list'>
     <ul></ul>
    </aside>
-->
    
<div id='venue-buttons' class='venue-buttons'>
    <ul>
  <li><a href="#home"><img class='venue-logo' src='https://pbs.twimg.com/profile_images/582657230815817729/gHh4Ups2_normal.png' alt='National Zoo'></a></li>
  <li><a href="#news"><img class='venue-logo' src='https://yt3.ggpht.com/-kCy7BOXyzLw/AAAAAAAAAAI/AAAAAAAAAAA/H3MqAizmPto/s900-c-k-no-mo-rj-c0xffffff/photo.jpg'></a>/li>
  <li><a href="#contact"><img class='venue-logo' src='https://cityparkalliance.files.wordpress.com/2013/02/denver-zoo-logo.jpg'> </a></li>
  <li><a href="#about"><img class='venue-logo' src='https://media.glassdoor.com/sql/145488/science-museum-of-virginia-squarelogo.png'></a></li>
<li><a href="#about"><img class='venue-logo' src='http://www.sfzoo.org/images/v2/wordmark.png'></a></li>
<li><a href="#about"><img class='venue-logo' src='http://www.washington.edu/alumni/partnerships/uwt/200804/images/pdza_logo.jpg'></a></li>
<li><a href="#about"><img class='venue-logo' src='https://res-2.cloudinary.com/simpleview/image/fetch/c_fill,f_auto,h_218,q_75,w_328/http://DesMoines.simpleviewcrm.com/images/listings/original_Coupon_ReimanGardens0.png'></a></li>
<li><a href="#about"><img class='venue-logo' src='https://modernbocamom.com/wp-content/uploads/2015/08/MOUNTS-Botanical-Garden-Logo.jpg'></a></li>
<li><a href="#about"><img class='venue-logo' src='https://www.sheddaquarium.org/globalassets/logo_shedd.png'></a></li>
</ul>
    </div>    
<div id='map'></div>
<script>
    
console.log("Hello")
mapboxgl.accessToken = 'pk.eyJ1Ijoib25jZWFkYXkiLCJhIjoiY2lqdThkb25mMGQ5bXU3bThhMjlzZWV2cSJ9.9VILu65Um-aP_J04RRO32w';
var map = new mapboxgl.Map({
    container: 'map', // container id
    style: 'mapbox://styles/onceaday/civ64l1he001d2ipb684hzrd8', //hosted style id
    center: [-92.00, 36.82], // starting position
    zoom: 2.6 // starting zoom
});
    
    
map.on('load', function() {
    // Add a GeoJSON source containing place coordinates and information.
    map.addSource('data', {
        "type": 'vector',
        "data": 'mapbox://onceaday.5swtk73k'
    });
    
//    map.addLayer({
//        'id': 'exhibits',
//        'type': 'symbol',
//        'source': 'data',
//    })
    
//    var cs = map.getLayer('exhibits')
    
    
    var features = map.queryRenderedFeatures()
//    console.log(features)
//    console.log(features[0])
    console.log(features[0].properties)
    console.log(features[0].properties["scpt_name"])
    
    var names = getSculptNames(features)
//    console.log(names)
    createMarkers(features)
    
    
});

function createMarkers(geojson) {
    
    // add markers to map
    JSON.stringify(geojson, null, 2).features.forEach(function(marker) {
        // create a DOM element for the marker
        var el = document.createElement('div');
        el.className = 'marker';
        el.style.backgroundImage = 'url(' + properties["img_url"] + "')";
        el.style.width = '5px'
        el.style.height = '5px'

        el.addEventListener('click', function() {
            window.alert(marker.properties.message);
        });

        // add marker to map
        new mapboxgl.Marker(el)
            .setLngLat(marker.geometry.coordinates)
            .addTo(map);
    });
};

    
function getSculptNames(features) {
    
    var names = []
    
    for (i = 0; i < features.length; i++) {
        names.push(features[i].properties["scpt_name"])
        
    }
    
    names = names.sort()
    
    for (i = 0; i < names.length; i++) {
        
        var node = document.createElement("LI");                 // Create a <li> node
        var textnode = document.createTextNode(names[i].slice(0,23));         // Create a text node
        node.appendChild(textnode);                              // Append the text to <li>
        document.getElementById("sculpt-names").appendChild(node);     // Append <li> to 
    }
    

    return names
};
    
</script>  
    
    


    
    